<ui:FluentWindow x:Class="LocalAniHubFront.Views.Windows.PlayerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:LocalAniHubFront.ViewModels.Windows"
        xmlns:vlc="clr-namespace:LibVLCSharp.WPF;assembly=LibVLCSharp.WPF"
        xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
        Title="LibVLCSharp 播放器" Height="650" Width="1100"
        AllowsTransparency="False"
        WindowBackdropType="Mica"   
        WindowCornerPreference="Round"
        Loaded="Window_Loaded"
        Closing="Window_Closing"
        ExtendsContentIntoTitleBar="True">
    <ui:FluentWindow.DataContext>
        <vm:PlayerViewModel x:Name="ViewModel" />
    </ui:FluentWindow.DataContext>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

            
        <ui:TitleBar x:Name="TitleBar"
                     Grid.Row="0"
                     Panel.ZIndex="10"/>


        <!-- 视频显示 -->
        <vlc:VideoView MediaPlayer="{Binding MediaPlayer}" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" 
                       Grid.Row="1"
                       Panel.ZIndex="1"/>
        <!-- 控制面板 -->
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Bottom" Margin="0,0,0,10"
                    Grid.Row="2"
                    Panel.ZIndex="5">
            <TextBox Width="200" Margin="5" Text="{Binding MediaPath, UpdateSourceTrigger=PropertyChanged}" />
            <Button Content="加载" Command="{Binding LoadCommand}" Margin="5" />
            <Button Content="播放" Command="{Binding PlayCommand}" Margin="5" />
            <Button Content="暂停" Command="{Binding PauseCommand}" Margin="5" />
            <Button Content="停止" Command="{Binding StopCommand}" Margin="5" />
        </StackPanel>
    </Grid>
</ui:FluentWindow>